<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Scorum: GIT guidelines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Scorum
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">GIT guidelines </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The git guidelines for Scorum are influenced by the <a href="https://github.com/cryptonomex/graphene/wiki/How-we-use-version-control">Graphene</a> git guidelines as well as <a href="http://nvie.com/posts/a-successful-git-branching-model/">Git Flow</a> and [this blog post](<a href="http://www.draconianoverlord.com/2013/09/07/no-cherry-picking.html">http://www.draconianoverlord.com/2013/09/07/no-cherry-picking.html</a>).</p>
<h1><a class="anchor" id="autotoc_md48"></a>
Branches</h1>
<ul>
<li><code>master</code>: Points to the current release of Scorum. Witnesses should be running this branch. Each release commit will be tagged <code>vMajor.Hardfork.Release</code>. When we get ready to release we will merge feature branches into <code>develop</code> and then do a single merge into <code>master</code> via a Pull Request. All PRs to <code>master</code> must pass automated testing to be merged.</li>
<li><code>develop</code>: The active development branch. We will strive to keep <code>develop</code> in a working state. All PRs must pass automated tests before being merged. While this is not a guarantee that <code>develop</code> is bug-free, it will guarantee that the branch is buildable in our standard build configuration and passes the current suite of tests. That being said, running a node from <code>develop</code> has risks. We recommend that any block producing node build from <code>master</code>. If you want to test new features, develop is the correct branch.</li>
</ul>
<h2><a class="anchor" id="autotoc_md49"></a>
Patch Branches</h2>
<p>All changes should be developed in their own branch. These branches should branch from <code>develop</code> and then merged back into <code>develop</code> when they are tested and ready. If an issue needs another issue as a dependency, branch from <code>develop</code>, merge the dependent issue branch into the new branch, and begin development. The naming scheme we use is the issue number, then a dash, followed by a shorthand description of the issue. For example, issue 22 is to allow the removal of an upvote. Branch <code>22-undo-vote</code> was used to develop the patch for this issue.</p>
<h2><a class="anchor" id="autotoc_md50"></a>
Non-Issue Branches</h2>
<p>Some changes are so minor as to not require an issue, e.g. changes to logging. Because the requirement of automated testing, create an issue for them. We err on the side of over-documentation rather than under-documentation. Branch from <code>develop</code>, make your fix, and create a pull request into <code>develop</code>.</p>
<p>Suggested formatting for such branches missing an issue is <code>YYYYMMDD-shortname</code>, e.g. <code>20160913-documentation-update</code>. (The date in the branch is so that we can prune old/defunct ones periodically to keep the repo tidy.)</p>
<h1><a class="anchor" id="autotoc_md51"></a>
Pull Requests</h1>
<p>All changes to <code>develop</code> and <code>master</code> are done through GitHub Pull Requests (PRs). This is done for several reasons:</p>
<ul>
<li>It enforces two factor authentication. GitHub will only allow merging of a pull request through their interface, which requires the dev to be logged in.</li>
<li>If enforces testing. All pull requests undergo automated testing before they are allowed to be merged.</li>
<li>It enforces best practices. Because of the cost of a pull request, developers are encouraged to do more testing themselves and be certain of the correctness of their solutions.</li>
<li>If enforces code review. All pull requests must be reviewed by a developer other than the creator of the request. Pull requests made by external developers should be reviewed by two internal developers. When a developer reviews and approves a pull request they should +1 the request or leave a comment mentioning their approval of the request. Otherwise they should describe what the problem is with the request so the developer can make changes and resubmit the request.</li>
</ul>
<p>All pull requests should reference the issue(s) they relate to in order to create a chain of documentation.</p>
<p>If your pull request has merge conflicts, rebase against <code>origin/develop</code>, resolve the merge conflicts, force push to your branch, and resubmit the pull request.</p>
<h1><a class="anchor" id="autotoc_md52"></a>
Policies</h1>
<h2><a class="anchor" id="autotoc_md53"></a>
Force-Push Policy</h2>
<ul>
<li><code>origin/master</code> should never be force pushed.</li>
<li><code>origin/develop</code> should never be force pushed. All updates to <code>develop</code> are done through PRs so force pushing is not allowed.</li>
<li>Individual patch branches may be force-pushed at any time, at the discretion of the developer or team working on the patch.</li>
</ul>
<h2><a class="anchor" id="autotoc_md54"></a>
Tagging Policy</h2>
<ul>
<li>Tags are reserved for releases. The version scheme is <code>vMajor.Hardfork.Release</code> (Ex. v0.5.0 is the version for the Hardfork 5 release). Releases should be made only on <code>master</code>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md55"></a>
Code Review Policy / PR Merge Process</h2>
<ul>
<li>Two developers <em>must</em> review <em>every</em> release before merging it into <code>master</code>, enforced through pull requests.</li>
<li>Two developers <em>must</em> review <em>every</em> consensus-breaking change before it moves into <code>develop</code>, enforced through pull requests.</li>
<li>Two developers <em>should</em> review <em>every</em> patch before it moves into <code>develop</code>, enforced through pull requests.</li>
<li>One of the reviewers may be the author of the change.</li>
<li>This policy is designed to encourage you to take off your "writer hat" and put on your "critic/reviewer hat." If this were a patch from an unfamiliar community contributor, would you accept it? Can you understand what the patch does and check its correctness based only on its commit message and diff? Does it break any existing tests, or need new tests to be written? Is it stylistically sloppy &ndash; trailing whitespace, multiple unrelated changes in a single patch, mixing bug fixes and features, or overly verbose debug logging?</li>
<li>Having multiple people look at a patch reduces the probability it will contain uncaught bugs. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 1 2022 17:36:56 for Scorum by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
