<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Scorum: Betting operations exceptions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Scorum
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Betting operations exceptions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>List of exception that could be raised on betting operations</p>
<h1><a class="anchor" id="autotoc_md27"></a>
create_game_operation</h1>
<ul>
<li>Assert Exception "Account name is invalid" &ndash; raises when op.moderator is invalid account name</li>
<li>Assert Exception "Game name should be less than ${1}" &ndash; raises when op.name greater than SCORUM_MAX_GAME_NAME_LENGTH value</li>
<li>Assert Exception "Markets ${m} cannot be used with specified game" &ndash; raises when try to create game with unexpected market</li>
<li>Assert Exception "Account \"${1}" must exist." &amp;ndash; raises when account with name op.moderator doens't exists
* Assert Exception "Game should start after head block time" &amp;ndash; raises when operation arg start_time &lt;= head_block_time
* Assert Exception "Game with name '$(op.name)' already exists -- raises when game with same uid already exists</li>
<li>Assert Exception "User '$(op.moderator)' isnt a betting moderator" -- raises when try to create game by non-betting_moderator account</li>
<li>Assert Exception "You provided duplicates in market list." &ndash; raise when user provided two same markets in the list</li>
</ul>
<h1><a class="anchor" id="autotoc_md28"></a>
update_game_start_time_operation</h1>
<ul>
<li>Assert Exception "Account name is invalid" &ndash; raises when op.moderator is invalid account name</li>
<li>Assert Exception "Account \"${1}" must exist." &amp;ndash; raises when account with name op.moderator doens't exists
* Assert Exception "Game should start after head block time" &amp;ndash; raises when operation arg start_time &lt;= head_block_time
* Assert Exception "User '$(op.moderator)' isnt a betting moderator" &amp;ndash; raises when try to update game by non-betting_moderator account
* Assert Exception "Game with uid '${op.uid}' doesn't exist" &amp;ndash; raises when there is no game with passed uid
* Assert Exception "Cannot change the start time when game is finished" raises when try to update game which status is "finished"(status changed to finished after post_game_results_operation was pushed by betting moderator)
* Assert Exception "Cannot change start time more than ${1} seconds" &ndash; raises when try to move game start time &gt; than SCORUM_BETTING_START_TIME_DIFF_MAX value</li>
</ul>
<h1><a class="anchor" id="autotoc_md29"></a>
update_game_markets operation</h1>
<ul>
<li>Assert Exception "Account name is invalid" &ndash; raises when op.moderator is invalid account name</li>
<li>Assert Exception "Account \"${1}" must exist." &amp;ndash; raises when account with name op.moderator doens't exists
* Assert Exception "User ${op.moderator} isn't a betting moderator" &amp;ndash; raises when try to update game by non-betting_moderator account
* Assert Exception "Game with uid '${op.uid}' doesn't exist" &amp;ndash; raises when there is no game with passed uid
* Assert Exception "Cannot change the markets when game is finished" raises when try to update game with status "finished"(status changed to finished after post_game_results_operation was pushed by betting moderator)
* Assert Exception "Cannot cancel markets after game was started" &amp;ndash; raises when try to remove markets from game which status is "started" (status changes to "started" after game start_time was reached)</li>
</ul>
<h1><a class="anchor" id="autotoc_md30"></a>
post_game_results_operation</h1>
<ul>
<li>Assert Exception "Wincase '${w}' is invalid" &ndash; raises when one of passed wincases is invalid</li>
<li>Assert Exception "Account \"${1}" must exist." &amp;ndash; raises when account with name op.moderator doens't exists
* Assert Exception "User '$(op.creator)' isnt a betting moderator" &amp;ndash; raises when try to post game results by non-betting_moderator account
* Assert Exception "Game with uid '${op.uid}' doesn't exist" &amp;ndash; raises when there is no game with passed uid
* Assert Exception "The game is not started yet" &amp;ndash; raises when try to post results for game which status is "created" (status changes to "started" after game start_time was reached)
* Assert Exception "Unable to post game results after bets were resolved" &amp;ndash; raises when try to post results op.start_time + op.auto_resolve_delay_sec was reached
* Assert Exception "Wincase winners list do not contain neither '${1}' nor '${2}'"
* Assert Exception "You've provided opposite wincases from same market as winners"
* Assert Exception "Wincase '${w}' dont belongs to game markets"</li>
</ul>
<h1><a class="anchor" id="autotoc_md31"></a>
cancel_game_operation</h1>
<ul>
<li>Assert Exception "Account name is invalid" &ndash; raises when op.moderator is invalid account name</li>
<li>Assert Exception "Account \"${1}" must exist." &amp;ndash; raises when account with name op.moderator doens't exists
* Assert Exception "User '$(op.moderator)' isnt a betting moderator" &amp;ndash; raises when try to cancel game by non-betting_moderator account
* Assert Exception "Game with uid '${op.uid}' doesn't exist" &amp;ndash; raises when there is no game with passed uid
* Assert Exception "Cannot cancel the game after it is finished" &ndash; raises when try to cancel game which status is finished(status changed to finished after post_game_results_operation was pushed by betting moderator)</li>
</ul>
<h1><a class="anchor" id="autotoc_md32"></a>
post_bet_operation</h1>
<ul>
<li>Assert Exception "Account name is invalid" &ndash; raises when op.better is invalid account name</li>
<li>Assert Exception "Wincase '${w}' is invalid"</li>
<li>Assert Exception "Stake must be SCR"</li>
<li>Assert Exception "Stake must be greater  or equal then ${s}"</li>
<li>Assert Exception "odds numerator must be greater then zero"</li>
<li>Assert Exception "odds denominator must be greater then zero"</li>
<li>Assert Exception "odds must be greater then one"</li>
<li>Assert Exception "Account \"${1}" must exist." &amp;ndash; raises when account with name op.better doens't exists
* Assert Exception "Game with uuid ${1} doesn't exist" &amp;ndash; raises when there is no game with passed uid
* Assert Exception "Cannot post bet for game that is finished" &amp;ndash; raises when try post bet on game which status is "finished"(status changed to finished after post_game_results_operation was pushed by betting moderator)
* Assert Exception "Cannot create non-live bet after game was started" &amp;ndash; raises when try to post bet with arg bet.live == False on game which status is "started"(status changes to "started" after game start_time was reached))
* Assert Exception "Invalid wincase '${w}'" &amp;ndash; raises when try to post bet on invalid wincase
* Assert Exception "Wincase '${w}' dont belongs to game markets"</li>
</ul>
<h1><a class="anchor" id="autotoc_md33"></a>
cancel_pending_bet</h1>
<ul>
<li>Assert Exception "Account name is invalid" &ndash; raises when op.better is invalid account name</li>
<li>Assert Exception "Account \"${1}" must exist." &amp;ndash; raises when account with name op.better doens't exists
* Assert Exception "Bet ${1} doesn't exist" &amp;ndash; raises when there is no bet with passed uid
* Assert Exception "Invalid better" &ndash; raises when operation.better != bet.better </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 1 2022 17:36:56 for Scorum by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
