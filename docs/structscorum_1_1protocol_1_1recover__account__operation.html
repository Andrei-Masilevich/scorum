<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Scorum: scorum::protocol::recover_account_operation Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Scorum
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacescorum.html">scorum</a></li><li class="navelem"><a class="el" href="namespacescorum_1_1protocol.html">protocol</a></li><li class="navelem"><a class="el" href="structscorum_1_1protocol_1_1recover__account__operation.html">recover_account_operation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structscorum_1_1protocol_1_1recover__account__operation-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">scorum::protocol::recover_account_operation Struct Reference<div class="ingroups"><a class="el" href="group__operations.html">Operations</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Recovers an account to a new authority using a previous authority.  
 <a href="structscorum_1_1protocol_1_1recover__account__operation.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="scorum__operations_8hpp_source.html">scorum_operations.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for scorum::protocol::recover_account_operation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="structscorum_1_1protocol_1_1recover__account__operation.png" usemap="#scorum::protocol::recover_5Faccount_5Foperation_map" alt=""/>
  <map id="scorum::protocol::recover_5Faccount_5Foperation_map" name="scorum::protocol::recover_5Faccount_5Foperation_map">
<area href="structscorum_1_1protocol_1_1base__operation.html" alt="scorum::protocol::base_operation" shape="rect" coords="0,0,268,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeb91587d761bd933142e51e457e21887"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1recover__account__operation.html#aeb91587d761bd933142e51e457e21887">get_required_authorities</a> (std::vector&lt; <a class="el" href="structscorum_1_1protocol_1_1authority.html">authority</a> &gt; &amp;a) const</td></tr>
<tr class="separator:aeb91587d761bd933142e51e457e21887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add1f28c14d536c5280016c7ab91c2c30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1recover__account__operation.html#add1f28c14d536c5280016c7ab91c2c30">validate</a> () const</td></tr>
<tr class="separator:add1f28c14d536c5280016c7ab91c2c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_structscorum_1_1protocol_1_1base__operation"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_structscorum_1_1protocol_1_1base__operation')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="structscorum_1_1protocol_1_1base__operation.html">scorum::protocol::base_operation</a></td></tr>
<tr class="memitem:a5df0087e445c4ef38abd4608352ef7c9 inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1base__operation.html#a5df0087e445c4ef38abd4608352ef7c9">get_required_authorities</a> (std::vector&lt; <a class="el" href="structscorum_1_1protocol_1_1authority.html">authority</a> &gt; &amp;) const</td></tr>
<tr class="separator:a5df0087e445c4ef38abd4608352ef7c9 inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aed31c3cfea4d59ee9506c64f78f232 inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1base__operation.html#a2aed31c3cfea4d59ee9506c64f78f232">get_required_active_authorities</a> (flat_set&lt; <a class="el" href="namespacescorum_1_1protocol.html#a31347c8415fef0e6bc9edf065c152e7b">account_name_type</a> &gt; &amp;) const</td></tr>
<tr class="separator:a2aed31c3cfea4d59ee9506c64f78f232 inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a992381661663c48e48ececc8c81a74f2 inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1base__operation.html#a992381661663c48e48ececc8c81a74f2">get_required_posting_authorities</a> (flat_set&lt; <a class="el" href="namespacescorum_1_1protocol.html#a31347c8415fef0e6bc9edf065c152e7b">account_name_type</a> &gt; &amp;) const</td></tr>
<tr class="separator:a992381661663c48e48ececc8c81a74f2 inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc12a6f9444572c009de5e6b03afedff inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1base__operation.html#adc12a6f9444572c009de5e6b03afedff">get_required_owner_authorities</a> (flat_set&lt; <a class="el" href="namespacescorum_1_1protocol.html#a31347c8415fef0e6bc9edf065c152e7b">account_name_type</a> &gt; &amp;) const</td></tr>
<tr class="separator:adc12a6f9444572c009de5e6b03afedff inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd790572d3ffbf4ac7a40ecfcdb3eee inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1base__operation.html#a4fd790572d3ffbf4ac7a40ecfcdb3eee">is_virtual</a> () const</td></tr>
<tr class="separator:a4fd790572d3ffbf4ac7a40ecfcdb3eee inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8032e38200a2a897a6cd453774cd8c3 inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1base__operation.html#ac8032e38200a2a897a6cd453774cd8c3">validate</a> () const</td></tr>
<tr class="separator:ac8032e38200a2a897a6cd453774cd8c3 inherit pub_methods_structscorum_1_1protocol_1_1base__operation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a1fd95e7d63dffbb4d69ece8238c64167"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacescorum_1_1protocol.html#a31347c8415fef0e6bc9edf065c152e7b">account_name_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1recover__account__operation.html#a1fd95e7d63dffbb4d69ece8238c64167">account_to_recover</a></td></tr>
<tr class="memdesc:a1fd95e7d63dffbb4d69ece8238c64167"><td class="mdescLeft">&#160;</td><td class="mdescRight">The account to be recovered.  <a href="structscorum_1_1protocol_1_1recover__account__operation.html#a1fd95e7d63dffbb4d69ece8238c64167">More...</a><br /></td></tr>
<tr class="separator:a1fd95e7d63dffbb4d69ece8238c64167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bfc1cf9c5d8493a434708d615c05cd3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structscorum_1_1protocol_1_1authority.html">authority</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1recover__account__operation.html#a3bfc1cf9c5d8493a434708d615c05cd3">new_owner_authority</a></td></tr>
<tr class="memdesc:a3bfc1cf9c5d8493a434708d615c05cd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The new owner authority as specified in the request account recovery operation.  <a href="structscorum_1_1protocol_1_1recover__account__operation.html#a3bfc1cf9c5d8493a434708d615c05cd3">More...</a><br /></td></tr>
<tr class="separator:a3bfc1cf9c5d8493a434708d615c05cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9663c65ee9ec95ef329bafe00447070"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structscorum_1_1protocol_1_1authority.html">authority</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1recover__account__operation.html#ae9663c65ee9ec95ef329bafe00447070">recent_owner_authority</a></td></tr>
<tr class="separator:ae9663c65ee9ec95ef329bafe00447070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c0223075a10a5ac65e4c62394077def"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacescorum_1_1protocol.html#a98238393ffd9e45553fa8ea82eff981d">extensions_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscorum_1_1protocol_1_1recover__account__operation.html#a5c0223075a10a5ac65e4c62394077def">extensions</a></td></tr>
<tr class="memdesc:a5c0223075a10a5ac65e4c62394077def"><td class="mdescLeft">&#160;</td><td class="mdescRight">ownership of the account to be recovered.  <a href="structscorum_1_1protocol_1_1recover__account__operation.html#a5c0223075a10a5ac65e4c62394077def">More...</a><br /></td></tr>
<tr class="separator:a5c0223075a10a5ac65e4c62394077def"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Recovers an account to a new authority using a previous authority. </p>
<p>Recover an account to a new authority using a previous authority and verification of the recovery account as proof of identity. This operation can only succeed if there was a recovery request sent by the account's recover account.</p>
<p>In order to recover the account, the account holder must provide proof of past ownership and proof of identity to the recovery account. Being able to satisfy an owner authority that was used in the past 30 days is sufficient to prove past ownership. The get_owner_history function in the database API returns past owner authorities that are valid for account recovery.</p>
<p>Proving identity is an off chain contract between the account holder and the recovery account. The recovery request contains a new authority which must be satisfied by the account holder to regain control. The actual process of verifying authority may become complicated, but that is an application level concern, not a blockchain concern.</p>
<p>This operation requires both the past and future owner authorities in the operation because neither of them can be derived from the current chain state. The operation must be signed by keys that satisfy both the new owner authority and the recent owner authority. Failing either fails the operation entirely.</p>
<p>If a recovery request was made inadvertantly, the account holder should contact the recovery account to have the request deleted.</p>
<p>The two setp combination of the account recovery request and recover is safe because the recovery account never has access to secrets of the account to recover. They simply act as an on chain endorsement of off chain identity. In other systems, a fork would be required to enforce such off chain state. Additionally, an account cannot be permanently recovered to the wrong account. While any owner authority from the past 30 days can be used, including a compromised authority, the account can be continually recovered until the recovery account is confident a combination of uncompromised authorities were used to recover the account. The actual process of verifying authority may become complicated, but that is an application level concern, not the blockchain's concern. </p>

<p class="definition">Definition at line <a class="el" href="scorum__operations_8hpp_source.html#l00643">643</a> of file <a class="el" href="scorum__operations_8hpp_source.html">scorum_operations.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aeb91587d761bd933142e51e457e21887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb91587d761bd933142e51e457e21887">&#9670;&nbsp;</a></span>get_required_authorities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void scorum::protocol::recover_account_operation::get_required_authorities </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structscorum_1_1protocol_1_1authority.html">authority</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scorum__operations_8hpp_source.html#l00654">654</a> of file <a class="el" href="scorum__operations_8hpp_source.html">scorum_operations.hpp</a>.</p>

</div>
</div>
<a id="add1f28c14d536c5280016c7ab91c2c30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add1f28c14d536c5280016c7ab91c2c30">&#9670;&nbsp;</a></span>validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void scorum::protocol::recover_account_operation::validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="scorum__operations_8cpp_source.html#l00249">249</a> of file <a class="el" href="scorum__operations_8cpp_source.html">scorum_operations.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1fd95e7d63dffbb4d69ece8238c64167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fd95e7d63dffbb4d69ece8238c64167">&#9670;&nbsp;</a></span>account_to_recover</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacescorum_1_1protocol.html#a31347c8415fef0e6bc9edf065c152e7b">account_name_type</a> scorum::protocol::recover_account_operation::account_to_recover</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The account to be recovered. </p>

<p class="definition">Definition at line <a class="el" href="scorum__operations_8hpp_source.html#l00645">645</a> of file <a class="el" href="scorum__operations_8hpp_source.html">scorum_operations.hpp</a>.</p>

</div>
</div>
<a id="a5c0223075a10a5ac65e4c62394077def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c0223075a10a5ac65e4c62394077def">&#9670;&nbsp;</a></span>extensions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacescorum_1_1protocol.html#a98238393ffd9e45553fa8ea82eff981d">extensions_type</a> scorum::protocol::recover_account_operation::extensions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ownership of the account to be recovered. </p>
<p>Extensions. Not currently used. </p>

<p class="definition">Definition at line <a class="el" href="scorum__operations_8hpp_source.html#l00652">652</a> of file <a class="el" href="scorum__operations_8hpp_source.html">scorum_operations.hpp</a>.</p>

</div>
</div>
<a id="a3bfc1cf9c5d8493a434708d615c05cd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bfc1cf9c5d8493a434708d615c05cd3">&#9670;&nbsp;</a></span>new_owner_authority</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structscorum_1_1protocol_1_1authority.html">authority</a> scorum::protocol::recover_account_operation::new_owner_authority</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The new owner authority as specified in the request account recovery operation. </p>

<p class="definition">Definition at line <a class="el" href="scorum__operations_8hpp_source.html#l00647">647</a> of file <a class="el" href="scorum__operations_8hpp_source.html">scorum_operations.hpp</a>.</p>

</div>
</div>
<a id="ae9663c65ee9ec95ef329bafe00447070"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9663c65ee9ec95ef329bafe00447070">&#9670;&nbsp;</a></span>recent_owner_authority</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structscorum_1_1protocol_1_1authority.html">authority</a> scorum::protocol::recover_account_operation::recent_owner_authority</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A previous owner authority that the account holder will use to prove past </p>

<p class="definition">Definition at line <a class="el" href="scorum__operations_8hpp_source.html#l00649">649</a> of file <a class="el" href="scorum__operations_8hpp_source.html">scorum_operations.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>libraries/protocol/include/scorum/protocol/<a class="el" href="scorum__operations_8hpp_source.html">scorum_operations.hpp</a></li>
<li>libraries/protocol/<a class="el" href="scorum__operations_8cpp_source.html">scorum_operations.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 19 2022 13:53:34 for Scorum by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
